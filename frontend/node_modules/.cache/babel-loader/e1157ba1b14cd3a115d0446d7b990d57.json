{"ast":null,"code":"import _regeneratorRuntime from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{getQuizzD}from'../../actions/userActions';import{useParams}from'react-router-dom';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Instructions=function Instructions(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"modal modal-sheet position-static d-block bg-secondary py-5\",tabindex:\"-1\",role:\"dialog\",id:\"modalSheet\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content rounded-4 shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header border-bottom-0\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"modal-title fs-5\",children:\"Modal title\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body py-0\",children:/*#__PURE__*/_jsx(\"p\",{children:\"This is a modal sheet, a variation of the modal that docs itself to the bottom of the viewport like the newer share sheets in iOS.\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer flex-column border-top-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-lg btn-primary w-100 mx-0 mb-2\",children:\"Save changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-lg btn-light w-100 mx-0\",\"data-bs-dismiss\":\"modal\",children:\"Close\"})]})]})})})});};var PlayQuizz=function PlayQuizz(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){dispatch(getQuizzD(id));},[id]);var _useState=useState(2),_useState2=_slicedToArray(_useState,2),difficultyLevel=_useState2[0],setDifficultyLevel=_useState2[1];var _useState3=useState([0]),_useState4=_slicedToArray(_useState3,2),score=_useState4[0],setScore=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),ans=_useState6[0],setAns=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),checked=_useState8[0],setChecked=_useState8[1];var _useSelector=useSelector(function(state){return state.appInfo;}),quizzDetails=_useSelector.quizzDetails;function handleAns(event){var updatedList=_toConsumableArray(checked);if(event.target.checked){updatedList=[].concat(_toConsumableArray(checked),[Number(event.target.value)]);}else{updatedList.splice(checked.indexOf(event.target.value),1);}setChecked(updatedList);}var q=quizzDetails.quizz.questions[difficultyLevel-1];var correctAns=quizzDetails.quizz.questions[difficultyLevel-1].ans;function Right(correctAns,checked){if(correctAns===checked)return true;if(correctAns==null||checked==null)return false;if(correctAns.length!==checked.length)return false;for(var i=0;i<correctAns.length;++i){if(correctAns[i]!==checked[i])return false;}return true;}var next=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(Right(correctAns,checked)){if(difficultyLevel==2){navigate(\"/result\");}setDifficultyLevel(difficultyLevel+1);setScore([].concat(_toConsumableArray(score),[score[score.length-1]+5]));}else{if(difficultyLevel==0){navigate(\"/result\");}setDifficultyLevel(difficultyLevel-1);setScore([].concat(_toConsumableArray(score),[score[score.length-1]-2]));}case 2:case\"end\":return _context.stop();}}},_callee);}));return function next(_x){return _ref.apply(this,arguments);};}();console.log(score,\"score\");return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Q. \",q.question,\" ?\"]}),/*#__PURE__*/_jsxs(\"b\",{children:[\"Difficulty level : \",difficultyLevel]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",value:q.options[0],id:\"A\",name:\"A\",checked:ans.A,onChange:handleAns}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",for:\"A\",children:q.options[0]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-check my-2\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",value:q.options[1],id:\"B\",name:\"B\",checked:ans.B,onChange:handleAns}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",for:\"B\",children:q.options[1]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-check my-2\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",value:q.options[2],id:\"C\",name:\"C\",checked:ans.C,onChange:handleAns}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",for:\"C\",children:q.options[2]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-check my-2\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",value:q.options[3],id:\"D\",name:\"D\",checked:ans.D,onChange:handleAns}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",for:\"D\",children:q.options[3]})]}),/*#__PURE__*/_jsx(\"button\",{class:\" btn btn-sm btn-danger\",type:\"submit\",onClick:next,children:\"Next\"})]})});};export default PlayQuizz;","map":{"version":3,"names":["React","Link","useState","useEffect","useSelector","useDispatch","getQuizzD","useParams","useNavigate","Instructions","PlayQuizz","id","dispatch","navigate","difficultyLevel","setDifficultyLevel","score","setScore","ans","setAns","checked","setChecked","state","appInfo","quizzDetails","handleAns","event","updatedList","target","Number","value","splice","indexOf","q","quizz","questions","correctAns","Right","length","i","next","preventDefault","console","log","question","options","A","B","C","D"],"sources":["D:/quizz-mern/frontend/src/pages/playQuizz/PlayQuizz.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState,useEffect } from 'react'\r\nimport { useSelector,useDispatch } from 'react-redux'\r\nimport { getQuizzD } from '../../actions/userActions'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Instructions= () =>{\r\n    return (\r\n        <>\r\n        <div class=\"modal modal-sheet position-static d-block bg-secondary py-5\" tabindex=\"-1\" role=\"dialog\" id=\"modalSheet\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content rounded-4 shadow\">\r\n      <div class=\"modal-header border-bottom-0\">\r\n        <h1 class=\"modal-title fs-5\">Modal title</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body py-0\">\r\n        <p>This is a modal sheet, a variation of the modal that docs itself to the bottom of the viewport like the newer share sheets in iOS.</p>\r\n      </div>\r\n      <div class=\"modal-footer flex-column border-top-0\">\r\n        <button type=\"button\" class=\"btn btn-lg btn-primary w-100 mx-0 mb-2\">Save changes</button>\r\n        <button type=\"button\" class=\"btn btn-lg btn-light w-100 mx-0\" data-bs-dismiss=\"modal\">Close</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst PlayQuizz = () => {\r\n  const {id}=useParams()\r\n  const dispatch=useDispatch()\r\n  const navigate=useNavigate()\r\n  useEffect(() => {\r\n    dispatch(getQuizzD(id))\r\n  }, [id])\r\n  const [difficultyLevel,setDifficultyLevel] = useState(2)\r\n  const [score,setScore] = useState([0])\r\n  const [ans,setAns]=useState([])\r\n  const [checked, setChecked] = useState([]);\r\n  const { quizzDetails } = useSelector(\r\n    (state) => state.appInfo\r\n  );\r\n  function handleAns(event){\r\n    var updatedList = [...checked];\r\n    if (event.target.checked) {\r\n    updatedList = [...checked,Number(event.target.value)];\r\n  } else {\r\n    updatedList.splice(checked.indexOf(event.target.value), 1);\r\n  }\r\n  setChecked(updatedList);\r\n  }\r\n  const q=quizzDetails.quizz.questions[difficultyLevel-1]\r\n  const correctAns=quizzDetails.quizz.questions[difficultyLevel-1].ans\r\n  function Right(correctAns,checked){\r\n    if (correctAns === checked) return true;\r\n    if (correctAns == null || checked == null) return false;\r\n    if (correctAns.length !== checked.length) return false;\r\n\r\n    for (var i = 0; i < correctAns.length; ++i) {\r\n      if (correctAns[i] !== checked[i]) return false;\r\n  }\r\n  return true;\r\n  }\r\n  const next=async(event)=>{\r\n    event.preventDefault()\r\n    if (Right(correctAns,checked)) {\r\n      if (difficultyLevel==2) {\r\n        navigate(\"/result\")\r\n      }\r\n      setDifficultyLevel(difficultyLevel+1)\r\n      setScore([...score,score[score.length-1]+5])\r\n    }\r\n    else {\r\n      if (difficultyLevel==0) {\r\n        navigate(\"/result\")\r\n      }\r\n      setDifficultyLevel(difficultyLevel-1)\r\n      setScore([...score,score[score.length-1]-2])\r\n    }\r\n    \r\n  }\r\n  console.log(score,\"score\")\r\n  return (\r\n    <>\r\n    <div className=\"container my-4\">\r\n        <div className=\"question\">\r\n            <h4>Q. {q.question} ?</h4>\r\n            <b>Difficulty level : {difficultyLevel}</b>\r\n        </div>\r\n       \r\n\r\n  <div class=\"form-check\">\r\n  <input class=\"form-check-input\" type=\"checkbox\" value={q.options[0]}  id=\"A\" name=\"A\" checked={ans.A} onChange={handleAns}/>\r\n  <label class=\"form-check-label\" for=\"A\">\r\n    {q.options[0]}\r\n  </label>\r\n</div>\r\n<div class=\"form-check my-2\">\r\n  <input class=\"form-check-input\" type=\"checkbox\" value={q.options[1]} id=\"B\" name=\"B\" checked={ans.B} onChange={handleAns}/>\r\n  <label class=\"form-check-label\" for=\"B\">\r\n  {q.options[1]}\r\n  </label>\r\n</div>\r\n<div class=\"form-check my-2\">\r\n  <input class=\"form-check-input\" type=\"checkbox\" value={q.options[2]} id=\"C\" name=\"C\" checked={ans.C} onChange={handleAns}/>\r\n  <label class=\"form-check-label\" for=\"C\">\r\n  {q.options[2]}\r\n  </label>\r\n</div>\r\n<div class=\"form-check my-2\">\r\n  <input class=\"form-check-input\" type=\"checkbox\" value={q.options[3]} id=\"D\" name=\"D\" checked={ans.D} onChange={handleAns}/>\r\n  <label class=\"form-check-label\" for=\"D\">\r\n  {q.options[3]}\r\n  </label>\r\n</div>\r\n\r\n        <button class=\" btn btn-sm btn-danger\" type=\"submit\" onClick={next} >Next</button>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PlayQuizz"],"mappings":"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"},"metadata":{},"sourceType":"module"}