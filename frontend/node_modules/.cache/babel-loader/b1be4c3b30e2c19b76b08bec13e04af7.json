{"ast":null,"code":"import _defineProperty from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/quizz-mern/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useState,useEffect}from'react';import{getquizzes,loginUser}from'../../actions/userActions';import{useNavigate}from'react-router-dom';import pic from\"../../img/pic.webp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.appInfo;}),login=_useSelector.login;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();dispatch(loginUser(formData));dispatch(getquizzes());case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();function handleChange(event){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},event.target.name,event.target.value)));}if(login.success){navigate(\"/admin\");}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"body\",{class:\"text-center my-4\",children:/*#__PURE__*/_jsx(\"main\",{class:\"form-signin w-50 m-auto\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"img\",{class:\"mb-4\",src:pic,alt:\"\",width:\"72\",height:\"57\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"h3 mb-3 fw-normal\",children:\"Please sign in\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control my-2\",id:\"floatingInput\",placeholder:\"name@example.com\",name:\"email\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{for:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control my-2\",id:\"floatingPassword\",placeholder:\"Password\",name:\"password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{for:\"floatingPassword\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"checkbox mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:\"remember-me\"}),\" Remember me\"]})}),!login.success&&/*#__PURE__*/_jsx(\"b\",{className:\"text-danger my-2\",children:login.message}),/*#__PURE__*/_jsx(\"button\",{class:\"w-100 btn btn-lg btn-primary\",type:\"submit\",onClick:handleSubmit,children:\"Sign in\"}),/*#__PURE__*/_jsx(\"p\",{class:\"mt-5 mb-3 text-muted\",children:\"\\xA9 2017\\u20132022\"})]})})})});};export default Login;","map":{"version":3,"names":["React","Link","useDispatch","useSelector","useState","useEffect","getquizzes","loginUser","useNavigate","pic","Login","dispatch","navigate","state","appInfo","login","email","password","formData","setFormData","handleSubmit","event","preventDefault","handleChange","target","name","value","success","message"],"sources":["D:/quizz-mern/frontend/src/pages/login/Login.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { useState,useEffect } from 'react'\r\nimport { getquizzes, loginUser } from '../../actions/userActions'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport  pic from \"../../img/pic.webp\"\r\n\r\nconst Login = () => {\r\n  const dispatch=useDispatch()\r\n  const navigate=useNavigate()\r\n  const { login } = useSelector(\r\n    (state) => state.appInfo\r\n  );\r\n  const [formData,setFormData]=useState({email:\"\",password:\"\"})\r\n  const handleSubmit=async(event)=>{\r\n    event.preventDefault()\r\n    dispatch(loginUser(formData))\r\n    dispatch(getquizzes())\r\n  }\r\n  function handleChange(event){\r\n    setFormData({...formData,[event.target.name]:event.target.value})\r\n  }\r\n  if (login.success) {\r\n    navigate(\"/admin\")\r\n  }\r\n  return (\r\n    <>\r\n   <body class=\"text-center my-4\">\r\n    \r\n    <main class=\"form-signin w-50 m-auto\">\r\n      <form>\r\n        <img class=\"mb-4\" src={pic} alt=\"\" width=\"72\" height=\"57\"/>\r\n        <h1 class=\"h3 mb-3 fw-normal\">Please sign in</h1>\r\n    \r\n        <div class=\"form-floating\">\r\n          <input type=\"email\" class=\"form-control my-2\" id=\"floatingInput\" placeholder=\"name@example.com\" name=\"email\"\r\n      onChange={handleChange}/>\r\n          <label for=\"floatingInput\">Email address</label>\r\n        </div>\r\n        <div class=\"form-floating\">\r\n          <input type=\"password\" class=\"form-control my-2\" id=\"floatingPassword\" placeholder=\"Password\" name=\"password\"\r\n      onChange={handleChange}/>\r\n          <label for=\"floatingPassword\">Password</label>\r\n        </div>\r\n    \r\n        <div class=\"checkbox mb-3\">\r\n          <label>\r\n            <input type=\"checkbox\" value=\"remember-me\"/> Remember me\r\n          </label>\r\n        </div>\r\n        {!login.success && <b className='text-danger my-2'>{login.message}</b>}\r\n        <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\" onClick={handleSubmit} >Sign in</button>\r\n        <p class=\"mt-5 mb-3 text-muted\">© 2017–2022</p>\r\n      </form>\r\n    </main>\r\n    \r\n    \r\n        \r\n      \r\n    \r\n    </body>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"6iBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAACC,WAAW,KAAQ,aAAa,CACrD,OAASC,QAAQ,CAACC,SAAS,KAAQ,OAAO,CAC1C,OAASC,UAAU,CAAEC,SAAS,KAAQ,2BAA2B,CACjE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAQC,IAAG,KAAM,oBAAoB,8IAErC,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,GAAMC,SAAQ,CAACT,WAAW,EAAE,CAC5B,GAAMU,SAAQ,CAACJ,WAAW,EAAE,CAC5B,iBAAkBL,WAAW,CAC3B,SAACU,KAAK,QAAKA,MAAK,CAACC,OAAO,GACzB,CAFOC,KAAK,cAALA,KAAK,CAGb,cAA6BX,QAAQ,CAAC,CAACY,KAAK,CAAC,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAAC,wCAAtDC,QAAQ,eAACC,WAAW,eAC3B,GAAMC,aAAY,4FAAC,iBAAMC,KAAK,oHAC5BA,KAAK,CAACC,cAAc,EAAE,CACtBX,QAAQ,CAACJ,SAAS,CAACW,QAAQ,CAAC,CAAC,CAC7BP,QAAQ,CAACL,UAAU,EAAE,CAAC,uDACvB,kBAJKc,aAAY,4CAIjB,CACD,QAASG,aAAY,CAACF,KAAK,CAAC,CAC1BF,WAAW,gCAAKD,QAAQ,wBAAEG,KAAK,CAACG,MAAM,CAACC,IAAI,CAAEJ,KAAK,CAACG,MAAM,CAACE,KAAK,GAAE,CACnE,CACA,GAAIX,KAAK,CAACY,OAAO,CAAE,CACjBf,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACA,mBACE,sCACD,aAAM,KAAK,CAAC,kBAAkB,uBAE7B,aAAM,KAAK,CAAC,yBAAyB,uBACnC,qCACE,YAAK,KAAK,CAAC,MAAM,CAAC,GAAG,CAAEH,GAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,cAC3D,WAAI,KAAK,CAAC,mBAAmB,4BAAoB,cAEjD,aAAK,KAAK,CAAC,eAAe,wBACxB,cAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAChH,QAAQ,CAAEc,YAAa,EAAE,cACrB,cAAO,GAAG,CAAC,eAAe,2BAAsB,GAC5C,cACN,aAAK,KAAK,CAAC,eAAe,wBACxB,cAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,mBAAmB,CAAC,EAAE,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CACjH,QAAQ,CAAEA,YAAa,EAAE,cACrB,cAAO,GAAG,CAAC,kBAAkB,sBAAiB,GAC1C,cAEN,YAAK,KAAK,CAAC,eAAe,uBACxB,sCACE,cAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,aAAa,EAAE,kBACtC,EACJ,CACL,CAACR,KAAK,CAACY,OAAO,eAAI,UAAG,SAAS,CAAC,kBAAkB,UAAEZ,KAAK,CAACa,OAAO,EAAK,cACtE,eAAQ,KAAK,CAAC,8BAA8B,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAER,YAAa,qBAAkB,cACnG,UAAG,KAAK,CAAC,sBAAsB,iCAAgB,GAC1C,EACF,EAMA,EACJ,CAEP,CAAC,CAED,cAAeV,MAAK"},"metadata":{},"sourceType":"module"}